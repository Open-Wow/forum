<!doctype html>
<html dir="ltr" lang="fr">
<head>
<meta charset="utf-8">
<title>DBCReader avec génération des requêtes SQL - Open WoW</title>
<link rel="stylesheet" href="../assets/forum-b586aac9.css">
<link rel="canonical" href="35-dbcreader-avec-generation-des-requetes-sql.html">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1">
<meta name="description" content="Le forum francophone d&#039;émulation WoW.">
<meta name="theme-color" content="#4D698E">
<link rel="shortcut icon" href="../assets/favicon-19klahq3.png">
<script src="https://www.recaptcha.net/recaptcha/api.js?hl=fr&render=explicit" async defer></script>
</head>
<body>
<div id="app" class="App">
<div id="app-navigation" class="App-navigation"></div>
<div id="drawer" class="App-drawer">
<header id="header" class="App-header">
<div id="header-navigation" class="Header-navigation"></div>
<div class="container">
<h1 class="Header-title">
<a href="https://forum.open-wow.eu" id="home-link">
<img src="../assets/logo-fje1vtuv.png" alt="Open WoW" class="Header-logo">
</a>
</h1>
<div id="header-primary" class="Header-primary"></div>
<div id="header-secondary" class="Header-secondary"></div>
</div>
</header>
</div>
<main class="App-content">
<div id="content"></div>
<div id="flarum-loading" style="display: none">
Chargement…
</div>
<noscript>
    <div class="Alert">
        <div class="container">
            Ce site est optimisé pour être consulté depuis un navigateur moderne dans lequel JavaScript est activé.
        </div>
    </div>
</noscript>
<div id="flarum-loading-error" style="display: none">
<div class="Alert">
<div class="container">
Une erreur est survenue lors de la tentative de chargement de la version complète de ce site. Veuillez purger le cache de votre navigateur et rafraîchir cette page pour tenter de corriger cette erreur.
</div>
</div>
</div>
<noscript id="flarum-content">
    <div class="container">
    <h2>DBCReader avec génération des requêtes SQL</h2>

    <div>
                    <div>
                                <h3>Galathil</h3>
                <div class="Post-body">
                    <p><strong>Important :</strong> Ce tutoriel a été rédigé par Nobodie pour le site wow-emu.fr. Je le recopie ici à l'identique, Il se peut que certaines informations soient obsolètes à ce jour. Bonne lecture !</p>

<h1>DBCReader avec génération des requêtes SQL</h1>
<p>Bonsoir à tous.</p>

<p>Comme vous le savez si vous avez lu mon tutoriel sur le format de fichier DBC, il est possible de développer notre propre lecteur de DBC. J'en ai mis un basique à disposition qui permet de lire les DBCs et d'en générer un fichier de type CSV.</p>

<p>C'est un début, mais ce n'est pas pratique. Je met donc à disposition un lecteur de DBC qui permet de générer une version SQL de ladite DBC qu'il ne vous restera plus qu'à intégrer en DB afin de pouvoir effectuer des requêtes dessus. Le script est fourni sans plus d'explications, à vous d'aller voir le tutoriel pour comprendre comment il fonctionne et comment l'utiliser, ça se passe par ici : <a href="34-le-format-dbc.html" rel=" nofollow ugc">Le format DBC</a>.</p>

<p>Et voici le script Python 2  :</p>
<pre><code class="language-python">#!/usr/bin/python
import struct
import sys, getopt

def main(filename, argv):
inputfilename = ''
global outputfilename
outputfilename = ''
global semicolon
semicolon = ','
global verbose
verbose = False
showFormat = False
helper = filename+" [-hfv -s &lt;semicolon&gt; -o &lt;outputfile&gt;] -i &lt;inputfile&gt;"+"\n"

try:
  opts, args = getopt.getopt(argv,"hfvs:o:i:",["semicolon=", "ifile=", "ofile="])
except getopt.GetoptError:
  sys.stdout.write(helper)
  sys.exit(1)
for opt, arg in opts:
  if opt == '-h':
   sys.stdout.write(helper)
   sys.exit()
  elif opt == "-v":
   verbose = True
  elif opt in ("-s", "--semicolon"):
   semicolon = arg
  elif opt in ("-i", "--ifile"):
   inputfilename = arg
  elif opt in ("-o", "--ofile"):
   outputfilename = arg
  elif opt == "-f":
   showFormat = True

if not inputfilename:
  sys.stdout.write(helper)
  sys.exit(1)
  
if not outputfilename:
  outputfilename = inputfilename[:-4]+'.sql'

inputfile = open(inputfilename, "rb")
global outputfile
outputfile = open(outputfilename, "w")

try:
  WDBC = inputfile.read(4)
  if WDBC != "WDBC":
   sys.stderr.write("Not supported format\n")
   sys.exit(2)
  
  headers = readHeaders(inputfile)
  datas = readDatas(inputfile, headers)
  skipBytes(inputfile, 1)
  strings = readStrings(inputfile, headers)
  columns = identifyColumns(headers, datas, strings)
  if showFormat:
   sys.stdout.write("Headers : "+str(headers)+"\n")
   sys.stdout.write("Format : "+''.join(columns)+"\n")
   sys.exit(0)
  writeSQL(headers, datas, strings, columns)
finally:
  inputfile.close()
outputfile.close()

def write(string):
outputfile.write(string)
if verbose:
  sys.stdout.write(string)

def writeSQL(headers, datas, strings, columns):
strcreate = ""
strcreate += "CREATE TABLE IF NOT EXISTS "+outputfilename[:-4]+"(\n"
i = 0
for col in columns:
  if col == 'i':
   strcreate += "INTEGER"+str(i)+" int(11) DEFAULT 0,\n"
  elif col == 'f':
   strcreate += "FLOAT"+str(i)+" float DEFAULT 0,\n"
  elif col == 's':
   strcreate += "STRING"+str(i)+" varchar(255) DEFAULT '',\n"
  i += 1
strcreate = strcreate[:-2]+");\n\n"
write(strcreate)

write("REPLACE INTO "+outputfilename[:-4]+" VALUES\n")

for rec in xrange(headers["nbrec"]):
  recstr = "("
  for field in xrange(headers["nbfields"]):
   col = columns[field]
   if col == 'i':
    recstr += str(struct.unpack('i', datas[rec][field])[0]) + semicolon
   elif col == 'f':
    recstr += str(struct.unpack('f', datas[rec][field])[0]) + semicolon
   elif col == 's':
    s = struct.unpack('i', datas[rec][field])[0]
    if not s:
     recstr += "NULL" + semicolon
    else:
     recstr = recstr + '"'+str(strings[s])+'"' + semicolon
  if rec == headers["nbrec"]-1:
   recstr = recstr[:-len(semicolon)]+");"
  else:
   recstr = recstr[:-len(semicolon)]+"),\n"
  write(recstr)



def identifyColumns(headers, datas,strings):
columns = ['i']*headers["nbfields"]
for field in range(headers["nbfields"]):
  if headers["ssize"] &gt; 1:
   possiblyAString = True
  else :
   possiblyAString = False

  possiblyAFloat = True  
  for rec in range(headers["nbrec"]):
   value = struct.unpack('i', datas[rec][field])[0]
   if not value:
    continue
   if not(value &amp; 0xFF800000) or (value &amp; 0xFF800000 == 0xFF800000):
    possiblyAFloat = False
   if value != 1 and value not in strings:
    possiblyAString = False

  if possiblyAString:
   columns[field] = 's'
   continue
  if possiblyAFloat:
   columns[field] = 'f'
   continue
return columns

def readHeaders(inputfile):
headers = {}
headers["nbrec"] = struct.unpack('i', inputfile.read(4))[0]
headers["nbfields"] = struct.unpack('i', inputfile.read(4))[0]
headers["recsize"] = struct.unpack('i', inputfile.read(4))[0]
headers["ssize"] = struct.unpack('i', inputfile.read(4))[0]
return headers

def readDatas(inputfile, headers):
data = []
for irec in xrange(headers["nbrec"]):
  rec = []
  for jfield in xrange(headers["nbfields"]):
   bytes = inputfile.read(4)
   rec.append(bytes)
  data.append(rec)
return data

def skipBytes(inputfile, count):
inputfile.read(count)

def readStrings(inputfile, headers):
strings = {}
counter = 1
while counter &lt; headers["ssize"]:
  s = extractString(inputfile)
  strings[counter] = s
  counter += len(s)+1
return strings

def extractString(inputfile):
s = ""
car = inputfile.read(1)
while ord(car) != 0:
  s = s+car
  car = inputfile.read(1)
return s


if __name__ == "__main__":
main(sys.argv[0], sys.argv[1:])</code><script async="" crossorigin="anonymous" data-hljs-style="github-gist" integrity="sha384-eud4nQrKZMwcYak7or3J5ZPJx1x4HRe8iTTHJy1SUVrDD+fP30Bo/F8OSdQJpk8d" onload="hljsLoader.highlightBlocks(this.parentNode)" src="https://cdn.jsdelivr.net/gh/s9e/hljs-loader@1.0.18/loader.min.js"></script></pre>

<p>Script pour Python 3 :</p> 
<pre><code class="language-python">#!/usr/bin/python
import struct
import sys, getopt

def main(filename, argv):
inputfilename = ''
global outputfilename
outputfilename = ''
global semicolon
semicolon = ','
global verbose
verbose = False
showFormat = False
helper = filename+" [-hfv -s &lt;semicolon&gt; -o &lt;outputfile&gt;] -i &lt;inputfile&gt;"+"\n"

try:
  opts, args = getopt.getopt(argv,"hfvs:o:i:",["semicolon=", "ifile=", "ofile="])
except getopt.GetoptError:
  sys.stdout.write(helper)
  sys.exit(1)
for opt, arg in opts:
  if opt == '-h':
   sys.stdout.write(helper)
   sys.exit()
  elif opt == "-v":
   verbose = True
  elif opt in ("-s", "--semicolon"):
   semicolon = arg
  elif opt in ("-i", "--ifile"):
   inputfilename = arg
  elif opt in ("-o", "--ofile"):
   outputfilename = arg
  elif opt == "-f":
   showFormat = True

if not inputfilename:
  sys.stdout.write(helper)
  sys.exit(1)
  
if not outputfilename:
  outputfilename = inputfilename[:-4]+'.sql'

inputfile = open(inputfilename, "rb")
global outputfile
outputfile = open(outputfilename, "w")

try:
  WDBC = inputfile.read(4)
  if WDBC.decode() != "WDBC":
   sys.stderr.write("Not supported format\n")
   sys.exit(2)
  
  headers = readHeaders(inputfile)
  datas = readDatas(inputfile, headers)
  skipBytes(inputfile, 1)
  strings = readStrings(inputfile, headers)
  columns = identifyColumns(headers, datas, strings)
  if showFormat:
   sys.stdout.write("Headers : "+str(headers)+"\n")
   sys.stdout.write("Format : "+''.join(columns)+"\n")
   sys.exit(0)
  writeSQL(headers, datas, strings, columns)
finally:
  inputfile.close()
outputfile.close()

def write(string):
outputfile.write(string)
if verbose:
  sys.stdout.write(string)

def writeSQL(headers, datas, strings, columns):
strcreate = ""
strcreate += "CREATE TABLE IF NOT EXISTS "+outputfilename[:-4]+"(\n"
i = 0
for col in columns:
  if col == 'i':
   strcreate += "INTEGER"+str(i)+" int(11) DEFAULT 0,\n"
  elif col == 'f':
   strcreate += "FLOAT"+str(i)+" float DEFAULT 0,\n"
  elif col == 's':
   strcreate += "STRING"+str(i)+" varchar(255) DEFAULT '',\n"
  i += 1
strcreate = strcreate[:-2]+");\n\n"
write(strcreate)

write("REPLACE INTO "+outputfilename[:-4]+" VALUES\n")

for rec in range(headers["nbrec"]):
  recstr = "("
  for field in range(headers["nbfields"]):
   col = columns[field]
   if col == 'i':
    recstr += str(struct.unpack('i', datas[rec][field])[0]) + semicolon
   elif col == 'f':
    recstr += str(struct.unpack('f', datas[rec][field])[0]) + semicolon
   elif col == 's':
    s = struct.unpack('i', datas[rec][field])[0]
    if not s:
     recstr += "NULL" + semicolon
    else:
     recstr = recstr + '"'+str(strings[s])+'"' + semicolon
  if rec == headers["nbrec"]-1:
   recstr = recstr[:-len(semicolon)]+");"
  else:
   recstr = recstr[:-len(semicolon)]+"),\n"
  write(recstr)



def identifyColumns(headers, datas,strings):
columns = ['i']*headers["nbfields"]
for field in range(headers["nbfields"]):
  if headers["ssize"] &gt; 1:
   possiblyAString = True
  else :
   possiblyAString = False

  possiblyAFloat = True  
  for rec in range(headers["nbrec"]):
   value = struct.unpack('i', datas[rec][field])[0]
   if not value:
    continue
   if not(value &amp; 0xFF800000) or (value &amp; 0xFF800000 == 0xFF800000):
    possiblyAFloat = False
   if value != 1 and value not in strings:
    possiblyAString = False

  if possiblyAString:
   columns[field] = 's'
   continue
  if possiblyAFloat:
   columns[field] = 'f'
   continue
return columns


def readHeaders(inputfile):
headers = {}
headers["nbrec"] = struct.unpack('i', inputfile.read(4))[0]
headers["nbfields"] = struct.unpack('i', inputfile.read(4))[0]
headers["recsize"] = struct.unpack('i', inputfile.read(4))[0]
headers["ssize"] = struct.unpack('i', inputfile.read(4))[0]
return headers

def readDatas(inputfile, headers):
data = []
for irec in range(headers["nbrec"]):
  rec = []
  for jfield in range(headers["nbfields"]):
   bytes = inputfile.read(4)
   rec.append(bytes)
  data.append(rec)
return data

def skipBytes(inputfile, count):
inputfile.read(count)

def readStrings(inputfile, headers):
strings = {}
counter = 1
while counter &lt; headers["ssize"]:
  s = extractString(inputfile)
  strings[counter] = s
  counter += len(s)+1
return strings

def extractString(inputfile):
s = ""
car = inputfile.read(1)
while car.decode('UTF-8', 'ignore') != '\x00':
  c = car.decode('UTF-8','ignore')
  if c :
   s = s+c
  else :
   s = s+'_'
  car = inputfile.read(1)
return s


if __name__ == "__main__":
main(sys.argv[0], sys.argv[1:])</code><script async="" crossorigin="anonymous" data-hljs-style="github-gist" integrity="sha384-eud4nQrKZMwcYak7or3J5ZPJx1x4HRe8iTTHJy1SUVrDD+fP30Bo/F8OSdQJpk8d" onload="hljsLoader.highlightBlocks(this.parentNode)" src="https://cdn.jsdelivr.net/gh/s9e/hljs-loader@1.0.18/loader.min.js"></script></pre>
<p>Bonne utilisation 😉</p>
                </div>
            </div>

            <hr>
            </div>

    
    </div>

</noscript>
<div class="App-composer">
<div class="container">
<div id="composer"></div>
</div>
</div>
</main>
</div>
<div id="modal"></div>
<div id="alerts"></div>
<script>
            document.getElementById('flarum-loading').style.display = 'block';
            var flarum = {extensions: {}};
        </script>
<script src="../assets/forum-2c55cc91.js"></script>
<script src="../assets/forum-fr-b93474b7.js"></script>
<script>
            document.getElementById('flarum-loading').style.display = 'none';

            try {
                flarum.core.app.load({"resources":[{"type":"forums","id":"1","attributes":{"title":"Open WoW","description":"Le forum francophone d\u0027\u00e9mulation WoW.","showLanguageSelector":true,"baseUrl":"https:\/\/forum.open-wow.eu","basePath":"","debug":false,"apiUrl":"https:\/\/forum.open-wow.eu\/api","welcomeTitle":"Bienvene sur Open WoW","welcomeMessage":"Le forum francophone d\u0027\u00e9mulation WoW.","themePrimaryColor":"#4D698E","themeSecondaryColor":"#4D698E","logoUrl":"https:\/\/forum.open-wow.eu\/assets\/logo-fje1vtuv.png","faviconUrl":"https:\/\/forum.open-wow.eu\/assets\/favicon-19klahq3.png","headerHtml":null,"footerHtml":null,"allowSignUp":true,"defaultRoute":"\/all","canViewDiscussions":true,"canStartDiscussion":true,"canViewUserList":false,"canViewFlags":false,"guidelinesUrl":null,"minPrimaryTags":"1","maxPrimaryTags":"1","minSecondaryTags":"0","maxSecondaryTags":"99","canSeeUserDirectoryLink":false,"userDirectoryDefaultSort":"username_az","darkMode":true,"categories.keepTagsNav":false,"categories.fullPageDesktop":false,"categories.compactMobile":false,"categories.parentRemoveIcon":false,"categories.parentRemoveDescription":false,"categories.parentRemoveStats":false,"categories.parentRemoveLastDiscussion":false,"categories.childBareIcon":false,"emojioneAreaEnableSearch":true,"emojioneAreaEnableRecent":true,"emojioneAreaEnableTones":true,"emojioneAreaFiltersPositionBottom":false,"emojioneAreaSearchPositionBottom":false,"emojioneAreaHideFlarumButton":true},"relationships":{"groups":{"data":[{"type":"groups","id":"1"},{"type":"groups","id":"2"},{"type":"groups","id":"3"},{"type":"groups","id":"4"}]},"tags":{"data":[{"type":"tags","id":"1"},{"type":"tags","id":"2"},{"type":"tags","id":"3"},{"type":"tags","id":"9"},{"type":"tags","id":"10"},{"type":"tags","id":"11"},{"type":"tags","id":"12"},{"type":"tags","id":"13"},{"type":"tags","id":"14"},{"type":"tags","id":"15"},{"type":"tags","id":"16"},{"type":"tags","id":"17"},{"type":"tags","id":"18"},{"type":"tags","id":"19"},{"type":"tags","id":"20"},{"type":"tags","id":"21"},{"type":"tags","id":"23"},{"type":"tags","id":"24"},{"type":"tags","id":"25"},{"type":"tags","id":"26"},{"type":"tags","id":"27"},{"type":"tags","id":"28"},{"type":"tags","id":"29"},{"type":"tags","id":"30"},{"type":"tags","id":"31"},{"type":"tags","id":"32"},{"type":"tags","id":"33"},{"type":"tags","id":"34"},{"type":"tags","id":"35"},{"type":"tags","id":"36"},{"type":"tags","id":"37"},{"type":"tags","id":"38"},{"type":"tags","id":"39"},{"type":"tags","id":"40"},{"type":"tags","id":"42"},{"type":"tags","id":"43"}]}}},{"type":"groups","id":"1","attributes":{"nameSingular":"Administrateur","namePlural":"Administrateurs","color":"#B72A2A","icon":"fas fa-wrench","isHidden":0}},{"type":"groups","id":"2","attributes":{"nameSingular":"Invit\u00e9","namePlural":"Invit\u00e9s","color":null,"icon":null,"isHidden":0}},{"type":"groups","id":"3","attributes":{"nameSingular":"Membre","namePlural":"Membres","color":null,"icon":null,"isHidden":0}},{"type":"groups","id":"4","attributes":{"nameSingular":"Mod\u00e9rateur","namePlural":"Mod\u00e9rateurs","color":"#80349E","icon":"fas fa-bolt","isHidden":0}},{"type":"tags","id":"1","attributes":{"name":"General","description":null,"slug":"general","color":"#888","backgroundUrl":null,"backgroundMode":null,"icon":null,"discussionCount":0,"position":0,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0}},{"type":"tags","id":"2","attributes":{"name":"Tutoriels","description":"","slug":"tutoriels","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":31,"position":2,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-03T20:18:27+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":32},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"55"}}}},{"type":"tags","id":"3","attributes":{"name":"Partages","description":"","slug":"partagess","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":29,"position":3,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":29},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"9","attributes":{"name":"Support","description":"","slug":"support","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":4,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-04T17:18:38+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":8},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"28"}}}},{"type":"tags","id":"10","attributes":{"name":"C++","description":"","slug":"tuto-cpp","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":1,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-09T12:18:32+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":1},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"36"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"11","attributes":{"name":"Lua","description":"","slug":"tuto-lua","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":2,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-01T20:55:22+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":4},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"21"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"12","attributes":{"name":"SQL","description":"","slug":"tuto-sql","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":4,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-09T16:37:26+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":4},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"43"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"13","attributes":{"name":"Vanilla","description":"","slug":"vanilla","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":12,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-07T13:34:50+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":13},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"31"}}}},{"type":"tags","id":"14","attributes":{"name":"The Burning Crusade","description":"","slug":"the-burning-crusade","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":13,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":14},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"15","attributes":{"name":"Wrath of the Lich King","description":"","slug":"wrath-of-the-lich-king","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":24,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":26},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"16","attributes":{"name":"Cataclysm","description":"","slug":"cataclysm","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"17","attributes":{"name":"Mists of Pandaria","description":"","slug":"mists-of-pandaria","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"18","attributes":{"name":"Warlords of Draenor","description":"","slug":"warlords-of-draenor","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"19","attributes":{"name":"Legion","description":"","slug":"legion","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"20","attributes":{"name":"Battle for Azeroth","description":"","slug":"battle-for-azeroth","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"21","attributes":{"name":"Shadowlands","description":"","slug":"shadowlands","color":"#f39c12","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"23","attributes":{"name":"TrinityCore","description":"","slug":"trinitycore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":26,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":24},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"24","attributes":{"name":"MaNGOS","description":"","slug":"mangos","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":10,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":12},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"25","attributes":{"name":"AzerothCore","description":"","slug":"azerothcore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":19,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":17},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"56"}}}},{"type":"tags","id":"26","attributes":{"name":"Skyfire","description":"","slug":"skyfire","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":3,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-05T13:08:13+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"30"}}}},{"type":"tags","id":"27","attributes":{"name":"Oregoncore","description":"","slug":"oregoncore","color":"#9b59b6","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":7,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-07T13:34:50+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":10},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"31"}}}},{"type":"tags","id":"28","attributes":{"name":"C++","description":"","slug":"cplusplus","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-09T16:29:34+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":3},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"42"}}}},{"type":"tags","id":"29","attributes":{"name":"SQL","description":"","slug":"sql","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":9,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-09T16:29:34+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":9},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"42"}}}},{"type":"tags","id":"30","attributes":{"name":"Lua","description":"","slug":"lua","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":15,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-18T11:03:06+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":15},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"52"}}}},{"type":"tags","id":"31","attributes":{"name":"PHP","description":"","slug":"php","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":0,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0}},{"type":"tags","id":"32","attributes":{"name":"C++","description":"","slug":"rel-cpp","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":1,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-03T18:14:57+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":1},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"26"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"33","attributes":{"name":"Lua","description":"","slug":"rel-lua","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":11,"position":2,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-23T20:31:12+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":10},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"54"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"34","attributes":{"name":"SQL","description":"","slug":"rel-sql","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":6,"position":4,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-09T19:51:41+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":6},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"50"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"35","attributes":{"name":"GIT","description":"","slug":"git","color":"#2e86c1","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":1,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2020-12-31T12:21:21+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":1},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"8"}}}},{"type":"tags","id":"36","attributes":{"name":"windows","description":"","slug":"windows","color":"#27ae60","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":4,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-03T20:18:27+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":6},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"55"}}}},{"type":"tags","id":"37","attributes":{"name":"Linux","description":"","slug":"linux","color":"#27ae60","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":4,"position":null,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-01-18T11:03:06+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":4},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"52"}}}},{"type":"tags","id":"38","attributes":{"name":"Guides","description":"","slug":"guides","color":"#00FFF7","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":1,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-13T20:45:56+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":5},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"20"}}}},{"type":"tags","id":"39","attributes":{"name":"Autres","description":"","slug":"tuto-autres","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":2,"position":0,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-02-03T20:18:27+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":2},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"55"}},"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"40","attributes":{"name":"Autres","description":"","slug":"rel-autres","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":5,"position":0,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":"2021-01-27T08:52:01+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":6},"relationships":{"lastPostedDiscussion":{"data":{"type":"discussions","id":"53"}},"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"tags","id":"42","attributes":{"name":"Model-changing","description":"","slug":"tuto-model-changing","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":0,"position":3,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0},"relationships":{"parent":{"data":{"type":"tags","id":"2"}}}},{"type":"tags","id":"43","attributes":{"name":"Model-Changing","description":"","slug":"rel-model-changing","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":0,"position":3,"defaultSort":null,"isChild":true,"isHidden":false,"lastPostedAt":null,"canStartDiscussion":false,"canAddToDiscussion":false,"postCount":0},"relationships":{"parent":{"data":{"type":"tags","id":"3"}}}},{"type":"discussions","id":"55","attributes":{"title":"Cr\u00e9er une nouvelle Map","slug":"55-creer-une-nouvelle-map","commentCount":1,"participantCount":1,"createdAt":"2021-02-03T20:18:27+00:00","lastPostedAt":"2021-02-03T20:18:27+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"18"}}}},{"type":"discussions","id":"56","attributes":{"title":"WoW Admin Panel Prenium","slug":"56-wow-admin-panel-prenium","commentCount":1,"participantCount":1,"createdAt":"2021-02-12T15:47:42+00:00","lastPostedAt":"2021-02-12T15:47:42+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"19"}}}},{"type":"discussions","id":"28","attributes":{"title":"Comment extraire les Vmaps sur des donjons modifier ?","slug":"28-comment-extraire-les-vmaps-sur-des-donjons-modifier","commentCount":8,"participantCount":4,"createdAt":"2021-01-03T22:30:02+00:00","lastPostedAt":"2021-01-04T19:13:07+00:00","lastPostNumber":8,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"8"}}}},{"type":"discussions","id":"36","attributes":{"title":"D\u00e9veloppement d\u0027un boss : Argaloth","slug":"36-developpement-dun-boss-argaloth","commentCount":1,"participantCount":1,"createdAt":"2021-01-09T12:18:32+00:00","lastPostedAt":"2021-01-09T12:18:32+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"21","attributes":{"title":"Ajouter de nouvelles methods \u00e0 un objet","slug":"21-ajouter-de-nouvelles-methods-a-un-objet","commentCount":4,"participantCount":3,"createdAt":"2021-01-01T01:58:38+00:00","lastPostedAt":"2021-02-12T20:03:05+00:00","lastPostNumber":4,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"13"}}}},{"type":"discussions","id":"43","attributes":{"title":"Les tables SQL de Trinity","slug":"43-les-tables-sql-de-trinity","commentCount":1,"participantCount":1,"createdAt":"2021-01-09T16:37:26+00:00","lastPostedAt":"2021-01-09T16:37:26+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"31","attributes":{"title":"LIC - Lua Icons Chat","slug":"31-lic-lua-icons-chat","commentCount":1,"participantCount":1,"createdAt":"2021-01-07T13:34:50+00:00","lastPostedAt":"2021-01-07T13:34:50+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"30","attributes":{"title":"Modifier la distance de vue","slug":"30-modifier-la-distance-de-vue","commentCount":1,"participantCount":1,"createdAt":"2021-01-05T13:08:13+00:00","lastPostedAt":"2021-01-05T13:08:13+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"42","attributes":{"title":"Les Bitmasks - Fonctionnement et Exemples","slug":"42-les-bitmasks-fonctionnement-et-exemples","commentCount":2,"participantCount":2,"createdAt":"2021-01-09T16:29:34+00:00","lastPostedAt":"2021-02-12T20:57:11+00:00","lastPostNumber":2,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"13"}}}},{"type":"discussions","id":"52","attributes":{"title":"Texture Coords Calculator","slug":"52-texture-coords-calculator","commentCount":1,"participantCount":1,"createdAt":"2021-01-18T11:03:06+00:00","lastPostedAt":"2021-01-18T11:03:06+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"26","attributes":{"title":"Activer les races alli\u00e9es ","slug":"26-activer-les-races-alliees","commentCount":1,"participantCount":1,"createdAt":"2021-01-03T18:14:57+00:00","lastPostedAt":"2021-01-03T18:14:57+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"54","attributes":{"title":"[AddOn] TrinityAdmin","slug":"54-addon-trinityadmin","commentCount":1,"participantCount":1,"createdAt":"2021-01-23T20:31:12+00:00","lastPostedAt":"2021-01-23T20:31:12+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"15"}}}},{"type":"discussions","id":"50","attributes":{"title":"Gameobject Paramystick","slug":"50-gameobject-paramystick","commentCount":1,"participantCount":1,"createdAt":"2021-01-09T19:51:41+00:00","lastPostedAt":"2021-01-09T19:51:41+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"8","attributes":{"title":"Cloner une version particuli\u00e8re de TrinityCore","slug":"8-cloner-une-version-particuliere-de-trinitycore","commentCount":1,"participantCount":1,"createdAt":"2020-12-31T12:21:21+00:00","lastPostedAt":"2020-12-31T12:21:21+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"discussions","id":"20","attributes":{"title":"Apprendre le Lua : Session #2","slug":"20-apprendre-le-lua-session-2","commentCount":3,"participantCount":2,"createdAt":"2020-12-31T17:23:56+00:00","lastPostedAt":"2021-02-13T21:59:45+00:00","lastPostNumber":3,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"2"}}}},{"type":"discussions","id":"53","attributes":{"title":"WoW Client Manager","slug":"53-wow-client-manager","commentCount":3,"participantCount":2,"createdAt":"2021-01-20T20:08:53+00:00","lastPostedAt":"2021-01-27T16:51:32+00:00","lastPostNumber":3,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"lastPostedUser":{"data":{"type":"users","id":"1"}}}},{"type":"users","id":"18","attributes":{"username":"Nehyren","displayName":"Nehyren","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/JTiwGMIn9vWbQRVE.png","slug":"Nehyren","joinTime":null}},{"type":"users","id":"19","attributes":{"username":"Torvahal","displayName":"Torvahal","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/Zj382QMdGN5T05KR.png","slug":"Torvahal","joinTime":null}},{"type":"users","id":"8","attributes":{"username":"Shard","displayName":"Shard","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/bYoQgxVXNpTYgA1Z.png","slug":"Shard","joinTime":null}},{"type":"users","id":"1","attributes":{"username":"Galathil","displayName":"Galathil","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/6zjneQm6RzYl44hc.png","slug":"Galathil","joinTime":null}},{"type":"users","id":"13","attributes":{"username":"noc","displayName":"noc","avatarUrl":null,"slug":"noc","joinTime":null}},{"type":"users","id":"2","attributes":{"username":"iThorgrim","displayName":"iThorgrim","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/m2uNfA3ykacYo3KQ.png","slug":"iThorgrim","joinTime":null}},{"type":"users","id":"15","attributes":{"username":"Mageex","displayName":"Mageex","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/QrVwmaDacwoX2c40.png","slug":"Mageex","joinTime":null}}],"session":{"userId":0,"csrfToken":"haXHsO7O04y1Q10mG4SbEhEVDGDTiehn6hkNVjw2"},"locales":{"fr":"Fran\u00e7ais","en":"English"},"locale":"fr","fof-recaptcha.credentials.site":"6LfKZhoaAAAAALSGOmOPpIVRVM8XRksALQXeFtYW","fof-recaptcha.type":"","apiDocument":{"data":{"type":"discussions","id":"35","attributes":{"title":"DBCReader avec g\u00e9n\u00e9ration des requ\u00eates SQL","slug":"35-dbcreader-avec-generation-des-requetes-sql","commentCount":1,"participantCount":1,"createdAt":"2021-01-09T12:16:03+00:00","lastPostedAt":"2021-01-09T12:16:03+00:00","lastPostNumber":1,"canReply":false,"canRename":false,"canDelete":false,"canHide":false,"isApproved":true,"isLocked":false,"canLock":false,"isSticky":false,"canSticky":false,"subscription":null,"canTag":false},"relationships":{"posts":{"data":[{"type":"posts","id":"60"}]},"tags":{"data":[{"type":"tags","id":"3"}]}}},"included":[{"type":"posts","id":"60","attributes":{"number":1,"createdAt":"2021-01-09T12:16:03+00:00","contentType":"comment","contentHtml":"\u003Cp\u003E\u003Cstrong\u003EImportant :\u003C\/strong\u003E Ce tutoriel a \u00e9t\u00e9 r\u00e9dig\u00e9 par Nobodie pour le site wow-emu.fr. Je le recopie ici \u00e0 l\u0027identique, Il se peut que certaines informations soient obsol\u00e8tes \u00e0 ce jour. Bonne lecture !\u003C\/p\u003E\n\n\u003Ch1\u003EDBCReader avec g\u00e9n\u00e9ration des requ\u00eates SQL\u003C\/h1\u003E\n\u003Cp\u003EBonsoir \u00e0 tous.\u003C\/p\u003E\n\n\u003Cp\u003EComme vous le savez si vous avez lu mon tutoriel sur le format de fichier DBC, il est possible de d\u00e9velopper notre propre lecteur de DBC. J\u0027en ai mis un basique \u00e0 disposition qui permet de lire les DBCs et d\u0027en g\u00e9n\u00e9rer un fichier de type CSV.\u003C\/p\u003E\n\n\u003Cp\u003EC\u0027est un d\u00e9but, mais ce n\u0027est pas pratique. Je met donc \u00e0 disposition un lecteur de DBC qui permet de g\u00e9n\u00e9rer une version SQL de ladite DBC qu\u0027il ne vous restera plus qu\u0027\u00e0 int\u00e9grer en DB afin de pouvoir effectuer des requ\u00eates dessus. Le script est fourni sans plus d\u0027explications, \u00e0 vous d\u0027aller voir le tutoriel pour comprendre comment il fonctionne et comment l\u0027utiliser, \u00e7a se passe par ici : \u003Ca href=\u0022https:\/\/forum.open-wow.eu\/d\/34-le-format-dbc\u0022 rel=\u0022 nofollow ugc\u0022\u003ELe format DBC\u003C\/a\u003E.\u003C\/p\u003E\n\n\u003Cp\u003EEt voici le script Python 2  :\u003C\/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022language-python\u0022\u003E#!\/usr\/bin\/python\nimport struct\nimport sys, getopt\n\ndef main(filename, argv):\ninputfilename = \u0027\u0027\nglobal outputfilename\noutputfilename = \u0027\u0027\nglobal semicolon\nsemicolon = \u0027,\u0027\nglobal verbose\nverbose = False\nshowFormat = False\nhelper = filename+\u0022 [-hfv -s \u0026lt;semicolon\u0026gt; -o \u0026lt;outputfile\u0026gt;] -i \u0026lt;inputfile\u0026gt;\u0022+\u0022\\n\u0022\n\ntry:\n  opts, args = getopt.getopt(argv,\u0022hfvs:o:i:\u0022,[\u0022semicolon=\u0022, \u0022ifile=\u0022, \u0022ofile=\u0022])\nexcept getopt.GetoptError:\n  sys.stdout.write(helper)\n  sys.exit(1)\nfor opt, arg in opts:\n  if opt == \u0027-h\u0027:\n   sys.stdout.write(helper)\n   sys.exit()\n  elif opt == \u0022-v\u0022:\n   verbose = True\n  elif opt in (\u0022-s\u0022, \u0022--semicolon\u0022):\n   semicolon = arg\n  elif opt in (\u0022-i\u0022, \u0022--ifile\u0022):\n   inputfilename = arg\n  elif opt in (\u0022-o\u0022, \u0022--ofile\u0022):\n   outputfilename = arg\n  elif opt == \u0022-f\u0022:\n   showFormat = True\n\nif not inputfilename:\n  sys.stdout.write(helper)\n  sys.exit(1)\n  \nif not outputfilename:\n  outputfilename = inputfilename[:-4]+\u0027.sql\u0027\n\ninputfile = open(inputfilename, \u0022rb\u0022)\nglobal outputfile\noutputfile = open(outputfilename, \u0022w\u0022)\n\ntry:\n  WDBC = inputfile.read(4)\n  if WDBC != \u0022WDBC\u0022:\n   sys.stderr.write(\u0022Not supported format\\n\u0022)\n   sys.exit(2)\n  \n  headers = readHeaders(inputfile)\n  datas = readDatas(inputfile, headers)\n  skipBytes(inputfile, 1)\n  strings = readStrings(inputfile, headers)\n  columns = identifyColumns(headers, datas, strings)\n  if showFormat:\n   sys.stdout.write(\u0022Headers : \u0022+str(headers)+\u0022\\n\u0022)\n   sys.stdout.write(\u0022Format : \u0022+\u0027\u0027.join(columns)+\u0022\\n\u0022)\n   sys.exit(0)\n  writeSQL(headers, datas, strings, columns)\nfinally:\n  inputfile.close()\noutputfile.close()\n\ndef write(string):\noutputfile.write(string)\nif verbose:\n  sys.stdout.write(string)\n\ndef writeSQL(headers, datas, strings, columns):\nstrcreate = \u0022\u0022\nstrcreate += \u0022CREATE TABLE IF NOT EXISTS \u0022+outputfilename[:-4]+\u0022(\\n\u0022\ni = 0\nfor col in columns:\n  if col == \u0027i\u0027:\n   strcreate += \u0022INTEGER\u0022+str(i)+\u0022 int(11) DEFAULT 0,\\n\u0022\n  elif col == \u0027f\u0027:\n   strcreate += \u0022FLOAT\u0022+str(i)+\u0022 float DEFAULT 0,\\n\u0022\n  elif col == \u0027s\u0027:\n   strcreate += \u0022STRING\u0022+str(i)+\u0022 varchar(255) DEFAULT \u0027\u0027,\\n\u0022\n  i += 1\nstrcreate = strcreate[:-2]+\u0022);\\n\\n\u0022\nwrite(strcreate)\n\nwrite(\u0022REPLACE INTO \u0022+outputfilename[:-4]+\u0022 VALUES\\n\u0022)\n\nfor rec in xrange(headers[\u0022nbrec\u0022]):\n  recstr = \u0022(\u0022\n  for field in xrange(headers[\u0022nbfields\u0022]):\n   col = columns[field]\n   if col == \u0027i\u0027:\n    recstr += str(struct.unpack(\u0027i\u0027, datas[rec][field])[0]) + semicolon\n   elif col == \u0027f\u0027:\n    recstr += str(struct.unpack(\u0027f\u0027, datas[rec][field])[0]) + semicolon\n   elif col == \u0027s\u0027:\n    s = struct.unpack(\u0027i\u0027, datas[rec][field])[0]\n    if not s:\n     recstr += \u0022NULL\u0022 + semicolon\n    else:\n     recstr = recstr + \u0027\u0022\u0027+str(strings[s])+\u0027\u0022\u0027 + semicolon\n  if rec == headers[\u0022nbrec\u0022]-1:\n   recstr = recstr[:-len(semicolon)]+\u0022);\u0022\n  else:\n   recstr = recstr[:-len(semicolon)]+\u0022),\\n\u0022\n  write(recstr)\n\n\n\ndef identifyColumns(headers, datas,strings):\ncolumns = [\u0027i\u0027]*headers[\u0022nbfields\u0022]\nfor field in range(headers[\u0022nbfields\u0022]):\n  if headers[\u0022ssize\u0022] \u0026gt; 1:\n   possiblyAString = True\n  else :\n   possiblyAString = False\n\n  possiblyAFloat = True  \n  for rec in range(headers[\u0022nbrec\u0022]):\n   value = struct.unpack(\u0027i\u0027, datas[rec][field])[0]\n   if not value:\n    continue\n   if not(value \u0026amp; 0xFF800000) or (value \u0026amp; 0xFF800000 == 0xFF800000):\n    possiblyAFloat = False\n   if value != 1 and value not in strings:\n    possiblyAString = False\n\n  if possiblyAString:\n   columns[field] = \u0027s\u0027\n   continue\n  if possiblyAFloat:\n   columns[field] = \u0027f\u0027\n   continue\nreturn columns\n\ndef readHeaders(inputfile):\nheaders = {}\nheaders[\u0022nbrec\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022nbfields\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022recsize\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022ssize\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nreturn headers\n\ndef readDatas(inputfile, headers):\ndata = []\nfor irec in xrange(headers[\u0022nbrec\u0022]):\n  rec = []\n  for jfield in xrange(headers[\u0022nbfields\u0022]):\n   bytes = inputfile.read(4)\n   rec.append(bytes)\n  data.append(rec)\nreturn data\n\ndef skipBytes(inputfile, count):\ninputfile.read(count)\n\ndef readStrings(inputfile, headers):\nstrings = {}\ncounter = 1\nwhile counter \u0026lt; headers[\u0022ssize\u0022]:\n  s = extractString(inputfile)\n  strings[counter] = s\n  counter += len(s)+1\nreturn strings\n\ndef extractString(inputfile):\ns = \u0022\u0022\ncar = inputfile.read(1)\nwhile ord(car) != 0:\n  s = s+car\n  car = inputfile.read(1)\nreturn s\n\n\nif __name__ == \u0022__main__\u0022:\nmain(sys.argv[0], sys.argv[1:])\u003C\/code\u003E\u003Cscript async=\u0022\u0022 crossorigin=\u0022anonymous\u0022 data-hljs-style=\u0022github-gist\u0022 integrity=\u0022sha384-eud4nQrKZMwcYak7or3J5ZPJx1x4HRe8iTTHJy1SUVrDD+fP30Bo\/F8OSdQJpk8d\u0022 onload=\u0022hljsLoader.highlightBlocks(this.parentNode)\u0022 src=\u0022https:\/\/cdn.jsdelivr.net\/gh\/s9e\/hljs-loader@1.0.18\/loader.min.js\u0022\u003E\u003C\/script\u003E\u003C\/pre\u003E\n\n\u003Cp\u003EScript pour Python 3 :\u003C\/p\u003E \n\u003Cpre\u003E\u003Ccode class=\u0022language-python\u0022\u003E#!\/usr\/bin\/python\nimport struct\nimport sys, getopt\n\ndef main(filename, argv):\ninputfilename = \u0027\u0027\nglobal outputfilename\noutputfilename = \u0027\u0027\nglobal semicolon\nsemicolon = \u0027,\u0027\nglobal verbose\nverbose = False\nshowFormat = False\nhelper = filename+\u0022 [-hfv -s \u0026lt;semicolon\u0026gt; -o \u0026lt;outputfile\u0026gt;] -i \u0026lt;inputfile\u0026gt;\u0022+\u0022\\n\u0022\n\ntry:\n  opts, args = getopt.getopt(argv,\u0022hfvs:o:i:\u0022,[\u0022semicolon=\u0022, \u0022ifile=\u0022, \u0022ofile=\u0022])\nexcept getopt.GetoptError:\n  sys.stdout.write(helper)\n  sys.exit(1)\nfor opt, arg in opts:\n  if opt == \u0027-h\u0027:\n   sys.stdout.write(helper)\n   sys.exit()\n  elif opt == \u0022-v\u0022:\n   verbose = True\n  elif opt in (\u0022-s\u0022, \u0022--semicolon\u0022):\n   semicolon = arg\n  elif opt in (\u0022-i\u0022, \u0022--ifile\u0022):\n   inputfilename = arg\n  elif opt in (\u0022-o\u0022, \u0022--ofile\u0022):\n   outputfilename = arg\n  elif opt == \u0022-f\u0022:\n   showFormat = True\n\nif not inputfilename:\n  sys.stdout.write(helper)\n  sys.exit(1)\n  \nif not outputfilename:\n  outputfilename = inputfilename[:-4]+\u0027.sql\u0027\n\ninputfile = open(inputfilename, \u0022rb\u0022)\nglobal outputfile\noutputfile = open(outputfilename, \u0022w\u0022)\n\ntry:\n  WDBC = inputfile.read(4)\n  if WDBC.decode() != \u0022WDBC\u0022:\n   sys.stderr.write(\u0022Not supported format\\n\u0022)\n   sys.exit(2)\n  \n  headers = readHeaders(inputfile)\n  datas = readDatas(inputfile, headers)\n  skipBytes(inputfile, 1)\n  strings = readStrings(inputfile, headers)\n  columns = identifyColumns(headers, datas, strings)\n  if showFormat:\n   sys.stdout.write(\u0022Headers : \u0022+str(headers)+\u0022\\n\u0022)\n   sys.stdout.write(\u0022Format : \u0022+\u0027\u0027.join(columns)+\u0022\\n\u0022)\n   sys.exit(0)\n  writeSQL(headers, datas, strings, columns)\nfinally:\n  inputfile.close()\noutputfile.close()\n\ndef write(string):\noutputfile.write(string)\nif verbose:\n  sys.stdout.write(string)\n\ndef writeSQL(headers, datas, strings, columns):\nstrcreate = \u0022\u0022\nstrcreate += \u0022CREATE TABLE IF NOT EXISTS \u0022+outputfilename[:-4]+\u0022(\\n\u0022\ni = 0\nfor col in columns:\n  if col == \u0027i\u0027:\n   strcreate += \u0022INTEGER\u0022+str(i)+\u0022 int(11) DEFAULT 0,\\n\u0022\n  elif col == \u0027f\u0027:\n   strcreate += \u0022FLOAT\u0022+str(i)+\u0022 float DEFAULT 0,\\n\u0022\n  elif col == \u0027s\u0027:\n   strcreate += \u0022STRING\u0022+str(i)+\u0022 varchar(255) DEFAULT \u0027\u0027,\\n\u0022\n  i += 1\nstrcreate = strcreate[:-2]+\u0022);\\n\\n\u0022\nwrite(strcreate)\n\nwrite(\u0022REPLACE INTO \u0022+outputfilename[:-4]+\u0022 VALUES\\n\u0022)\n\nfor rec in range(headers[\u0022nbrec\u0022]):\n  recstr = \u0022(\u0022\n  for field in range(headers[\u0022nbfields\u0022]):\n   col = columns[field]\n   if col == \u0027i\u0027:\n    recstr += str(struct.unpack(\u0027i\u0027, datas[rec][field])[0]) + semicolon\n   elif col == \u0027f\u0027:\n    recstr += str(struct.unpack(\u0027f\u0027, datas[rec][field])[0]) + semicolon\n   elif col == \u0027s\u0027:\n    s = struct.unpack(\u0027i\u0027, datas[rec][field])[0]\n    if not s:\n     recstr += \u0022NULL\u0022 + semicolon\n    else:\n     recstr = recstr + \u0027\u0022\u0027+str(strings[s])+\u0027\u0022\u0027 + semicolon\n  if rec == headers[\u0022nbrec\u0022]-1:\n   recstr = recstr[:-len(semicolon)]+\u0022);\u0022\n  else:\n   recstr = recstr[:-len(semicolon)]+\u0022),\\n\u0022\n  write(recstr)\n\n\n\ndef identifyColumns(headers, datas,strings):\ncolumns = [\u0027i\u0027]*headers[\u0022nbfields\u0022]\nfor field in range(headers[\u0022nbfields\u0022]):\n  if headers[\u0022ssize\u0022] \u0026gt; 1:\n   possiblyAString = True\n  else :\n   possiblyAString = False\n\n  possiblyAFloat = True  \n  for rec in range(headers[\u0022nbrec\u0022]):\n   value = struct.unpack(\u0027i\u0027, datas[rec][field])[0]\n   if not value:\n    continue\n   if not(value \u0026amp; 0xFF800000) or (value \u0026amp; 0xFF800000 == 0xFF800000):\n    possiblyAFloat = False\n   if value != 1 and value not in strings:\n    possiblyAString = False\n\n  if possiblyAString:\n   columns[field] = \u0027s\u0027\n   continue\n  if possiblyAFloat:\n   columns[field] = \u0027f\u0027\n   continue\nreturn columns\n\n\ndef readHeaders(inputfile):\nheaders = {}\nheaders[\u0022nbrec\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022nbfields\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022recsize\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nheaders[\u0022ssize\u0022] = struct.unpack(\u0027i\u0027, inputfile.read(4))[0]\nreturn headers\n\ndef readDatas(inputfile, headers):\ndata = []\nfor irec in range(headers[\u0022nbrec\u0022]):\n  rec = []\n  for jfield in range(headers[\u0022nbfields\u0022]):\n   bytes = inputfile.read(4)\n   rec.append(bytes)\n  data.append(rec)\nreturn data\n\ndef skipBytes(inputfile, count):\ninputfile.read(count)\n\ndef readStrings(inputfile, headers):\nstrings = {}\ncounter = 1\nwhile counter \u0026lt; headers[\u0022ssize\u0022]:\n  s = extractString(inputfile)\n  strings[counter] = s\n  counter += len(s)+1\nreturn strings\n\ndef extractString(inputfile):\ns = \u0022\u0022\ncar = inputfile.read(1)\nwhile car.decode(\u0027UTF-8\u0027, \u0027ignore\u0027) != \u0027\\x00\u0027:\n  c = car.decode(\u0027UTF-8\u0027,\u0027ignore\u0027)\n  if c :\n   s = s+c\n  else :\n   s = s+\u0027_\u0027\n  car = inputfile.read(1)\nreturn s\n\n\nif __name__ == \u0022__main__\u0022:\nmain(sys.argv[0], sys.argv[1:])\u003C\/code\u003E\u003Cscript async=\u0022\u0022 crossorigin=\u0022anonymous\u0022 data-hljs-style=\u0022github-gist\u0022 integrity=\u0022sha384-eud4nQrKZMwcYak7or3J5ZPJx1x4HRe8iTTHJy1SUVrDD+fP30Bo\/F8OSdQJpk8d\u0022 onload=\u0022hljsLoader.highlightBlocks(this.parentNode)\u0022 src=\u0022https:\/\/cdn.jsdelivr.net\/gh\/s9e\/hljs-loader@1.0.18\/loader.min.js\u0022\u003E\u003C\/script\u003E\u003C\/pre\u003E\n\u003Cp\u003EBonne utilisation \ud83d\ude09\u003C\/p\u003E","editedAt":"2021-01-09T12:16:45+00:00","canEdit":false,"canDelete":false,"canHide":false,"isApproved":true,"canApprove":false,"canFlag":false,"canLike":false},"relationships":{"discussion":{"data":{"type":"discussions","id":"35"}},"user":{"data":{"type":"users","id":"1"}},"editedUser":{"data":{"type":"users","id":"1"}},"likes":{"data":[]},"mentionedBy":{"data":[]}}},{"type":"users","id":"1","attributes":{"username":"Galathil","displayName":"Galathil","avatarUrl":"https:\/\/forum.open-wow.eu\/assets\/avatars\/6zjneQm6RzYl44hc.png","slug":"Galathil","joinTime":null,"discussionCount":33,"commentCount":35,"canEdit":false,"canDelete":false,"lastSeenAt":"2021-02-14T12:26:31+00:00","canSuspend":false},"relationships":{"groups":{"data":[{"type":"groups","id":"1"},{"type":"groups","id":"4"}]}}},{"type":"groups","id":"1","attributes":{"nameSingular":"Administrateur","namePlural":"Administrateurs","color":"#B72A2A","icon":"fas fa-wrench","isHidden":0}},{"type":"groups","id":"4","attributes":{"nameSingular":"Mod\u00e9rateur","namePlural":"Mod\u00e9rateurs","color":"#80349E","icon":"fas fa-bolt","isHidden":0}},{"type":"tags","id":"3","attributes":{"name":"Partages","description":"","slug":"partagess","color":"#e74c3c","backgroundUrl":null,"backgroundMode":null,"icon":"","discussionCount":29,"position":3,"defaultSort":null,"isChild":false,"isHidden":false,"lastPostedAt":"2021-02-12T15:47:42+00:00","canStartDiscussion":false,"canAddToDiscussion":false,"postCount":29}}]}});
                flarum.core.app.bootExtensions(flarum.extensions);
                flarum.core.app.boot();
            } catch (e) {
                var error = document.getElementById('flarum-loading-error');
                error.innerHTML += document.getElementById('flarum-content').textContent;
                error.style.display = 'block';
                throw e;
            }
        </script>
</body>
</html>
